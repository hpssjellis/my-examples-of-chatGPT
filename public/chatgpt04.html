<!DOCTYPE html>
<html>
<head>
  <title>Webcam Image Capture and Local Storage</title>
</head>
<body>
  <h1>Webcam Image Capture and Local Storage</h1>
  <video id="myWebcam" width="640" height="480"></video>
  <button id="myCaptureButton">Capture Image</button>
  <br><br>
  <div id="myImageContainer">
  </div>
  <button id="myViewButton">View Saved Images</button>
  <br><br>
  <div id="myLocalStorageImages">
  </div>
  <script>
    // Get elements
    const myWebcam = document.getElementById("myWebcam");
    const myCaptureButton = document.getElementById("myCaptureButton");
    const myImageContainer = document.getElementById("myImageContainer");
    const myViewButton = document.getElementById("myViewButton");
    const myLocalStorageImages = document.getElementById("myLocalStorageImages");
Copy code
// Get access to webcam
navigator.mediaDevices.getUserMedia({ video: true })
  .then(function(myStream) {
    myWebcam.srcObject = myStream;
  });

// Add event listener for capture button
myCaptureButton.addEventListener("click", function() {
  // Get image from video element
  let myImage = document.createElement("img");
  myImage.src = myWebcam.srcObject.toDataURL("image/png");
  // Generate filename with current date
  let myFilename = new Date().toISOString();
  // Save image to local storage
  localStorage.setItem(myFilename, myImage.src);
  // Add image to page
  myImageContainer.appendChild(myImage);
});

// Add event listener for view button
myViewButton.addEventListener("click", function() {
  // Clear previous images
  myLocalStorageImages.innerHTML = "";
  // Loop through all items in local storage
  for (let i = 0; i < localStorage.length; i++) {
    // Get key and image src
    let myKey = localStorage.key(i);
    let myImageSrc = localStorage.getItem(myKey);
    // Create image element
    let myImage = document.createElement("img");
    myImage.src = myImageSrc;
    // Create delete button
    let myDeleteButton = document.createElement("button");
    myDeleteButton.innerHTML = "Delete";
    myDeleteButton.addEventListener("click", function() {
      // Remove image from local storage and page
      localStorage.removeItem(myKey);
      myLocalStorageImages.removeChild(myImage);
      myLocalStorageImages.removeChild(myDeleteButton);
    });
    // Add image and delete button to page
    myLocalStorageImages.appendChild(myImage);
    myLocalStorageImages.appendChild(myDeleteButton);
  }
});
  </script>
</body>
</html>
